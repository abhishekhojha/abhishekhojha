---
export const prerender = true;
import { projectsData, type Project } from '../../data/projects';
import Layout from '../../layouts/Layout.astro';
import Contact from '../../components/Contact.astro';

export function getStaticPaths() {
  return projectsData.map(project => ({
    params: { slug: project.slug },
    props: { project },
  }));
}

interface Props { project: Project }
const { project } = Astro.props;
---

<Layout
  title={`${project.title} | Abhishekh Ojha`}
  description={project.description}
  url={`https://abhishekhojha.com/projects/${project.slug}`}
>
  <main class="pt-24 sm:pt-28 md:pt-36 pb-0">
    <section class="container mx-auto px-4 sm:px-6 pb-16 md:pb-24">

      {/* Back link */}
      <a
        href="/projects"
        class="inline-flex items-center gap-2 text-sm font-medium text-gray-400 dark:text-gray-500 hover:text-gray-900 dark:hover:text-gray-200 transition-colors duration-200 mb-12"
      >
        <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m15 18-6-6 6-6"/></svg>
        All Projects
      </a>

      {/* Hero */}
      <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 lg:gap-20 items-start mb-16">
        <div data-animate="slide-in-left">
          <div class="flex flex-wrap gap-1.5 mb-5">
            {project.skills.map((skill) => (
              <span class="px-2.5 py-0.5 bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400 text-[11px] font-medium rounded-full uppercase tracking-wider">
                {skill}
              </span>
            ))}
          </div>
          <h1 class="text-4xl sm:text-5xl lg:text-6xl font-bold text-gray-900 dark:text-gray-100 tracking-tight leading-[1.05] mb-6">
            {project.title}
          </h1>
          <p class="text-lg text-gray-500 dark:text-gray-400 leading-relaxed max-w-lg">
            {project.description}
          </p>
        </div>

        <div data-animate="slide-in-right" class="flex flex-col gap-4 lg:pt-4">
          {project.demoUrl && (
            <a
              href={project.demoUrl}
              target="_blank"
              rel="noopener noreferrer"
              class="group flex items-center justify-between p-5 bg-white dark:bg-gray-900/50 rounded-2xl border border-gray-200 dark:border-gray-700 hover:border-gray-900 dark:hover:border-gray-400 transition-all duration-300 hover:-translate-y-0.5"
            >
              <div>
                <p class="text-xs font-semibold uppercase tracking-wider text-gray-400 dark:text-gray-500 mb-1">Live Site</p>
                <p class="text-sm font-medium text-gray-700 dark:text-gray-300 truncate max-w-xs">{project.demoUrl.replace('https://', '')}</p>
              </div>
              <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-gray-300 dark:text-gray-600 group-hover:text-gray-900 dark:group-hover:text-gray-200 transition-colors shrink-0"><path d="M7 7h10v10"/><path d="M7 17 17 7"/></svg>
            </a>
          )}
          {project.githubUrl && (
            <a
              href={project.githubUrl}
              target="_blank"
              rel="noopener noreferrer"
              class="group flex items-center justify-between p-5 bg-white dark:bg-gray-900/50 rounded-2xl border border-gray-200 dark:border-gray-700 hover:border-gray-900 dark:hover:border-gray-400 transition-all duration-300 hover:-translate-y-0.5"
            >
              <div>
                <p class="text-xs font-semibold uppercase tracking-wider text-gray-400 dark:text-gray-500 mb-1">Source Code</p>
                <p class="text-sm font-medium text-gray-700 dark:text-gray-300">View on GitHub</p>
              </div>
              <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-gray-300 dark:text-gray-600 group-hover:text-gray-900 dark:group-hover:text-gray-200 transition-colors shrink-0"><path d="M15 22v-4a4.8 4.8 0 0 0-1-3.2c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4"/><path d="M9 18c-4.51 2-5-2-7-2"/></svg>
            </a>
          )}
          {!project.demoUrl && !project.githubUrl && (
            <div class="p-5 bg-gray-50 dark:bg-gray-800/50 rounded-2xl border border-gray-100 dark:border-gray-700">
              <p class="text-sm text-gray-400 dark:text-gray-500 italic">This is an internal or client-confidential project.</p>
            </div>
          )}
        </div>
      </div>

      {/* Project image if available */}
      {project.imageUrl && (
        <div data-animate="fade-up" class="rounded-2xl overflow-hidden border border-gray-200 dark:border-gray-700 mb-16 shadow-sm">
          <img
            src={project.imageUrl}
            alt={`${project.title} screenshot`}
            class="w-full h-auto object-cover"
            loading="lazy"
          />
        </div>
      )}

    </section>
    <Contact />
  </main>
</Layout>
